{% extends "base.html" %}
{% block title %}Novo Livro{% endblock %}

{% block content %}
<h2 class="mb-4">Novo Livro</h2>

<form method="post">
  <div class="mb-3">
    <label for="titulo" class="form-label">Título</label>
    <input type="text" id="titulo" name="titulo" class="form-control" required>
  </div>

  <div class="mb-3">
    <label for="autor_id" class="form-label">Autor</label>
    <select name="autor_id" id="autor_id" class="form-select" required>
      <option value="">Selecione um autor</option>
      {% for autor in autores %}
      <option value="{{ autor.ID_autor }}">{{ autor.Nome_autor }}</option>
      {% endfor %}
    </select>
  </div>

  <div class="mb-3">
    <label for="isbn" class="form-label">ISBN</label>
    <input type="text" id="isbn" name="isbn" class="form-control" maxlength="13" required>
  </div>

  <div class="mb-3">
    <label for="ano" class="form-label">Ano de Publicação</label>
    <input type="number" id="ano" name="ano" class="form-control" min="0" max="2100">
  </div>

  <div class="mb-3">
    <label for="genero_id" class="form-label">Gênero</label>
    <select name="genero_id" id="genero_id" class="form-select" required>
      <option value="">Selecione um gênero</option>
      {% for genero in generos %}
      <option value="{{ genero.ID_genero }}">{{ genero.Nome_genero }}</option>
      {% endfor %}
    </select>
  </div>

  <div class="mb-3">
    <label for="editora_id" class="form-label">Editora</label>
    <select name="editora_id" id="editora_id" class="form-select" required>
      <option value="">Selecione uma editora</option>
      {% for editora in editoras %}
      <option value="{{ editora.ID_editora }}">{{ editora.Nome_editora }}</option>
      {% endfor %}
    </select>
  </div>

  <div class="mb-3">
    <label for="quantidade" class="form-label">Quantidade Disponível</label>
    <input type="number" id="quantidade" name="quantidade" class="form-control" min="0" value="1">
  </div>

  <div class="mb-3">
    <label for="resumo" class="form-label">Resumo</label>
    <textarea id="resumo" name="resumo" class="form-control" rows="4"></textarea>
  </div>

  <button type="submit" class="btn btn-primary">Salvar</button>
  <a href="{{ url_for('listar_livros') }}" class="btn btn-secondary">Cancelar</a>
</form>
{% endblock %}
